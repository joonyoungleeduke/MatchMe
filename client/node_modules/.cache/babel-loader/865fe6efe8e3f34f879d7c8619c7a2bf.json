{"ast":null,"code":"var _jsxFileName = \"/Users/joonyounglee/MITHACK/MITHack2020/client/src/Components/NewPost.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport axiosInstance from \"../User/axiosApi\";\nimport { Form } from 'semantic-ui-react';\n\nfunction NewPost() {\n  const [groups, setGroups] = useState([]);\n  const [options, setOptions] = useState([]);\n  useEffect(() => {\n    groupsFetch();\n    parseOptions();\n  }, []);\n\n  const parseOptions = async () => {\n    await groupsFetch();\n    var options_arr = new Array();\n\n    for (let group in groups) {\n      console.log(group);\n      options_arr.push({\n        text: group.name,\n        value: group.id\n      });\n    }\n\n    setOptions(options_arr);\n  };\n\n  async function groupsFetch() {\n    try {\n      var id = localStorage.getItem(\"user_id\");\n      const response = await axiosInstance.get('api/groups/user/' + id.toString() + \"/\");\n      console.log(response.data);\n      setGroups(response.data);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Select, {\n    fluid: true,\n    label: \"Group\",\n    options: options,\n    placeholder: \"Group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default NewPost; // content = models.TextField(blank=False, default='')\n// hearts = models.ManyToManyField(User, blank=True, through=UserHeart, related_name='heart_user')\n// author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='post')\n// group = models.ForeignKey(ActionGroup, on_delete=models.CASCADE, related_name='post')\n// created = models.DateTimeField(auto_now_add=True)\n// modified = models.DateTimeField(auto_now=True)\n// isMatch = models.BooleanField(blank=False, default=False)\n// matches = models.ManyToManyField(User, blank=True, through=UserMatch, related_name='match_user')\n// goal = models.IntegerField(\n//     default=10,\n//     validators=[\n//         MinValueValidator(10),\n//         MaxValueValidator(100000),\n//     ],\n// )\n// def __str__(self):\n//     return f'Post by {self.author} with {self.hearts} hearts'\n// class Meta: \n//     ordering = ['-created']","map":{"version":3,"sources":["/Users/joonyounglee/MITHACK/MITHack2020/client/src/Components/NewPost.js"],"names":["React","Component","useState","useEffect","axiosInstance","Form","NewPost","groups","setGroups","options","setOptions","groupsFetch","parseOptions","options_arr","Array","group","console","log","push","text","name","value","id","localStorage","getItem","response","get","toString","data","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,SAASC,IAAT,QAAqB,mBAArB;;AAEA,SAASC,OAAT,GAAmB;AAEf,QAAK,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAK,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAArC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,WAAW;AACXC,IAAAA,YAAY;AACf,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMA,YAAY,GAAG,YAAY;AAC7B,UAAMD,WAAW,EAAjB;AAEA,QAAIE,WAAW,GAAG,IAAIC,KAAJ,EAAlB;;AAEA,SAAK,IAAIC,KAAT,IAAkBR,MAAlB,EAA0B;AACtBS,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAF,MAAAA,WAAW,CAACK,IAAZ,CAAiB;AACbC,QAAAA,IAAI,EAAEJ,KAAK,CAACK,IADC;AAEbC,QAAAA,KAAK,EAAEN,KAAK,CAACO;AAFA,OAAjB;AAIH;;AAEDZ,IAAAA,UAAU,CAACG,WAAD,CAAV;AACH,GAdD;;AAgBA,iBAAeF,WAAf,GAA6B;AACzB,QAAI;AACA,UAAIW,EAAE,GAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAT;AACA,YAAMC,QAAQ,GAAG,MAAMrB,aAAa,CAACsB,GAAd,CAAkB,qBAAqBJ,EAAE,CAACK,QAAH,EAArB,GAAqC,GAAvD,CAAvB;AAEAX,MAAAA,OAAO,CAACC,GAAR,CAAYQ,QAAQ,CAACG,IAArB;AAEApB,MAAAA,SAAS,CAACiB,QAAQ,CAACG,IAAV,CAAT;AAEA,aAAOH,QAAQ,CAACG,IAAhB;AAEH,KAVD,CAUE,OAAOC,KAAP,EAAc;AACZb,MAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ;AACH;AACJ;;AAAA;AAED,sBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,MAAM,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,MAAN;AACI,IAAA,KAAK,MADT;AAEI,IAAA,KAAK,EAAC,OAFV;AAGI,IAAA,OAAO,EAAEpB,OAHb;AAII,IAAA,WAAW,EAAC,OAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CADJ;AAYH;;AAED,eAAeH,OAAf,C,CAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport axiosInstance from \"../User/axiosApi\";\nimport { Form } from 'semantic-ui-react';\n\nfunction NewPost() {\n\n    const[groups, setGroups] = useState([]);\n    const[options, setOptions] = useState([]);\n\n    useEffect(() => {\n        groupsFetch()\n        parseOptions()\n    }, []);   \n\n    const parseOptions = async () => {\n        await groupsFetch();\n\n        var options_arr = new Array();  \n\n        for (let group in groups) {\n            console.log(group);\n            options_arr.push({\n                text: group.name, \n                value: group.id,\n            });\n        }\n\n        setOptions(options_arr);\n    };\n\n    async function groupsFetch() {\n        try {\n            var id = localStorage.getItem(\"user_id\");\n            const response = await axiosInstance.get('api/groups/user/' + id.toString() + \"/\");\n\n            console.log(response.data);\n\n            setGroups(response.data);\n\n            return response.data;\n\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    return(\n        <Form>\n            <Form.Group widths='equal'>\n                <Form.Select\n                    fluid \n                    label='Group'\n                    options={options}\n                    placeholder='Group'\n                />\n            </Form.Group>\n        </Form>\n    );\n}\n\nexport default NewPost;\n\n// content = models.TextField(blank=False, default='')\n\n// hearts = models.ManyToManyField(User, blank=True, through=UserHeart, related_name='heart_user')\n\n// author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='post')\n// group = models.ForeignKey(ActionGroup, on_delete=models.CASCADE, related_name='post')\n// created = models.DateTimeField(auto_now_add=True)\n// modified = models.DateTimeField(auto_now=True)\n\n// isMatch = models.BooleanField(blank=False, default=False)\n// matches = models.ManyToManyField(User, blank=True, through=UserMatch, related_name='match_user')\n// goal = models.IntegerField(\n//     default=10,\n//     validators=[\n//         MinValueValidator(10),\n//         MaxValueValidator(100000),\n//     ],\n// )\n\n// def __str__(self):\n//     return f'Post by {self.author} with {self.hearts} hearts'\n\n// class Meta: \n//     ordering = ['-created']"]},"metadata":{},"sourceType":"module"}