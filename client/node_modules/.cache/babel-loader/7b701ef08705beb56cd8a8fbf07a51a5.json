{"ast":null,"code":"var _jsxFileName = \"/Users/joonyounglee/MITHACK/MITHack2020/client/src/Pages/Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport FeedCard from \"../Components/FeedCard\";\nimport NavBar from \"../Components/NavBar\";\nimport { Card, Icon, Grid, Segment, Button, Container } from 'semantic-ui-react';\nimport GroupsCard from \"../Components/GroupsCard\";\nimport ProfileCard from \"../Components/ProfileCard\";\nimport NewPost from \"../Components/NewPost\";\nimport SuggestedGroups from '../Components/SuggestedGroups';\nimport { Nav } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport GroupPosts from \"../APIComponents/GroupPosts\";\nimport UserGroups from \"../APIComponents/UserGroups\";\nimport UserInfo from \"../APIComponents/UserInfo\";\nimport ProfileInfo from \"../APIComponents/ProfileInfo\";\nimport GroupSuggestions from \"../APIComponents/GroupSuggestions\";\nimport InterestPosts from \"../APIComponents/InterestPosts\";\nimport SpecificPosts from \"../APIComponents/SpecificPosts\";\nimport Posts from \"../Components/Posts\";\nimport ParseAllPosts from \"../APIComponents/ParseAllPosts\";\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nfunction postReducer(state, action) {\n  switch (action.type) {\n    case 'OPEN_MODAL':\n      return {\n        showpost: true,\n        dimmer: action.dimmer\n      };\n\n    case 'CLOSE_MODAL':\n      return {\n        showpost: false\n      };\n\n    default:\n      throw new Error();\n  }\n}\n\nconst Home = props => {\n  const [explore, setExplore] = useState(false);\n  const [posts, setPosts] = useState([]);\n  const [explorePosts, setExplorePosts] = useState([]);\n  const [state, handlePost] = React.useReducer(postReducer, {\n    showpost: false,\n    dimmer: undefined\n  });\n\n  function handlePostChange(state) {\n    handlePost(state);\n  }\n\n  const [match_state, handleMatchPost] = React.useReducer(postReducer, {\n    showpost: false,\n    dimmer: undefined\n  });\n\n  function handleMatchPostChange(state) {\n    handleMatchPost(state);\n  }\n\n  const [user, setUser] = useState({});\n  const [profile, setProfile] = useState({});\n  const [groups, setGroups] = useState([]);\n  const [suggestions, setSuggestions] = useState([]); // group suggestions \n\n  const user_id = localStorage.getItem('user_id');\n  const limit = 10; // limit on # posts \n\n  useEffect(() => {\n    getPosts(user_id, limit);\n    getExplorePosts(user_id, limit);\n    getGroups(user_id);\n    getUser(user_id);\n    getProfile(user_id);\n    getSuggestions(user_id);\n  }, {});\n\n  async function getSuggestions(user_id) {\n    let suggestions = GroupSuggestions(user_id);\n    console.log(suggestions);\n    suggestions.then(data => {\n      setSuggestions(data);\n    });\n  }\n\n  const handleToggle = event => {\n    setExplore(!explore);\n  }; // async function getPosts(user_id) {\n  //   await getGroups(user_id);\n  //   let arr = Array(); \n  //   for (let idx in groups) {\n  //     let group = groups[idx];\n  //     let data = await GroupPosts(group.id);\n  //     data.then(info => {\n  //       arr.push(info);\n  //     })\n  //   }\n  //   setPosts(arr);\n  // }\n\n\n  async function getPosts(user_id, limit) {\n    let posts = await SpecificPosts(user_id, limit);\n    await ParseAllPosts(posts, setPosts, user_id);\n  }\n\n  async function getExplorePosts(user_id, limit) {\n    let posts = await InterestPosts(user_id, limit);\n    await ParseAllPosts(posts, setExplorePosts, user_id);\n  }\n\n  async function getGroups(user_id) {\n    let groups = UserGroups(user_id);\n    groups.then(data => {\n      setGroups(data);\n    });\n  }\n\n  async function getUser(user_id) {\n    let user = UserInfo(user_id);\n    user.then(data => {\n      setUser(data);\n    });\n  }\n\n  ;\n\n  async function getProfile(user_id) {\n    let profile = ProfileInfo(user_id);\n    profile.then(data => {\n      setProfile(data);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LinkContainer, {\n    to: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ProfileCard, {\n    className: \"profCard\",\n    name: user.first_name + \" \" + user.last_name,\n    src: profile.image,\n    inspired: profile.total_matches,\n    matched: profile.ind_matches,\n    groups: groups,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(GroupsCard, {\n    header: \"Your Groups\",\n    name: props.name,\n    src: props.src,\n    inspired: props.inspired,\n    matched: props.matched,\n    groups: groups,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Grid.Column, {\n    centered: true,\n    width: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(NewPost, {\n    name: user.first_name + \" \" + user.last_name,\n    profile: profile,\n    match_state: match_state,\n    state: state,\n    handlePostChange: handlePostChange,\n    handleMatchPostChange: handleMatchPostChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Posts, {\n    posts: explore ? posts : explorePosts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(SuggestedGroups, {\n    groups: suggestions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  })))));\n};\n\nexport default Home;\nconst styles = {\n  filter: {\n    margin: \"10px\",\n    height: \"auto\",\n    top: \"auto\",\n    left: 'auto',\n    bottom: 'auto',\n    right: 'auto'\n  }\n}; // .modal {\n//   height: auto;\n//   top: auto;\n//   left: auto; \n//   bottom: auto; \n//   right: auto;\n// }","map":{"version":3,"sources":["/Users/joonyounglee/MITHACK/MITHack2020/client/src/Pages/Home.js"],"names":["React","useState","useEffect","FeedCard","NavBar","Card","Icon","Grid","Segment","Button","Container","GroupsCard","ProfileCard","NewPost","SuggestedGroups","Nav","LinkContainer","GroupPosts","UserGroups","UserInfo","ProfileInfo","GroupSuggestions","InterestPosts","SpecificPosts","Posts","ParseAllPosts","Switch","FormControlLabel","postReducer","state","action","type","showpost","dimmer","Error","Home","props","explore","setExplore","posts","setPosts","explorePosts","setExplorePosts","handlePost","useReducer","undefined","handlePostChange","match_state","handleMatchPost","handleMatchPostChange","user","setUser","profile","setProfile","groups","setGroups","suggestions","setSuggestions","user_id","localStorage","getItem","limit","getPosts","getExplorePosts","getGroups","getUser","getProfile","getSuggestions","console","log","then","data","handleToggle","event","first_name","last_name","image","total_matches","ind_matches","name","src","inspired","matched","styles","filter","margin","height","top","left","bottom","right"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport FeedCard from \"../Components/FeedCard\";\nimport NavBar from \"../Components/NavBar\";\nimport { Card, Icon, Grid, Segment, Button, Container} from 'semantic-ui-react'\nimport GroupsCard from \"../Components/GroupsCard\";\nimport ProfileCard from \"../Components/ProfileCard\"\nimport NewPost from \"../Components/NewPost\";\nimport SuggestedGroups from '../Components/SuggestedGroups';\nimport {Nav} from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport GroupPosts from \"../APIComponents/GroupPosts\";\nimport UserGroups from \"../APIComponents/UserGroups\";\nimport UserInfo from \"../APIComponents/UserInfo\";\nimport ProfileInfo from \"../APIComponents/ProfileInfo\";\nimport GroupSuggestions from \"../APIComponents/GroupSuggestions\";\nimport InterestPosts from \"../APIComponents/InterestPosts\";\nimport SpecificPosts from \"../APIComponents/SpecificPosts\";\nimport Posts from \"../Components/Posts\";\nimport ParseAllPosts from \"../APIComponents/ParseAllPosts\";\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nfunction postReducer(state, action) {\n  switch (action.type) {\n    case 'OPEN_MODAL' :\n      return { showpost: true, dimmer: action.dimmer }\n    case 'CLOSE_MODAL' : \n      return { showpost: false }\n    default: \n      throw new Error(); \n  }\n}\n\n\nconst Home = (props) => {\n\n  const [explore, setExplore] = useState(false);\n  const [posts, setPosts] = useState([]);\n  const [explorePosts, setExplorePosts] = useState([]);\n\n  const [state, handlePost] = React.useReducer(postReducer, {\n    showpost: false, \n    dimmer: undefined,\n  })\n\n  function handlePostChange(state) {\n    handlePost(state);\n  }\n\n  const [match_state, handleMatchPost] = React.useReducer(postReducer, {\n    showpost: false, \n    dimmer: undefined, \n  })\n\n  function handleMatchPostChange(state) {\n    handleMatchPost(state);\n  }\n\n\n  const [user, setUser] = useState({});\n  const [profile, setProfile] = useState({});\n  const [groups, setGroups] = useState([]);\n  const [suggestions, setSuggestions] = useState([]); // group suggestions \n\n  const user_id = localStorage.getItem('user_id');\n\n  const limit = 10; // limit on # posts \n\n  useEffect(() => {\n      getPosts(user_id, limit);\n      getExplorePosts(user_id, limit);\n      getGroups(user_id);\n      getUser(user_id);\n      getProfile(user_id);\n      getSuggestions(user_id);\n  }, {});\n\n  async function getSuggestions(user_id) {\n    let suggestions = GroupSuggestions(user_id);\n    console.log(suggestions);\n    suggestions.then(data => {\n      setSuggestions(data);\n    })\n\n  }\n\n  const handleToggle = (event) => {\n    setExplore(!explore);\n  }\n\n  // async function getPosts(user_id) {\n  //   await getGroups(user_id);\n\n  //   let arr = Array(); \n\n  //   for (let idx in groups) {\n  //     let group = groups[idx];\n\n  //     let data = await GroupPosts(group.id);\n  //     data.then(info => {\n  //       arr.push(info);\n  //     })\n  //   }\n\n  //   setPosts(arr);\n  // }\n\n  async function getPosts(user_id, limit) {\n    let posts = await SpecificPosts(user_id, limit);\n    await ParseAllPosts(posts, setPosts, user_id); \n  }\n\n  async function getExplorePosts(user_id, limit) {\n    let posts = await InterestPosts(user_id, limit);\n    await ParseAllPosts(posts, setExplorePosts, user_id);\n    }\n  \n\n  async function getGroups(user_id) {\n    let groups = UserGroups(user_id);\n    groups.then(data => {\n      setGroups(data);\n    })\n  }\n\n  async function getUser(user_id) {\n    let user = UserInfo(user_id);\n\n    user.then(data => {\n      setUser(data);\n    })\n  };\n\n  async function getProfile(user_id) {\n    let profile = ProfileInfo(user_id);\n\n    profile.then(data => {\n      setProfile(data);\n    })\n  }\n\n    return (\n      <div>\n          <NavBar />\n\n          <Grid centered>\n            <Grid.Row>\n                <Grid.Column width={3} >\n                  <LinkContainer to=\"/profile\">\n                  <Nav.Link >\n                      <ProfileCard className=\"profCard\" name={user.first_name + \" \" + user.last_name} src={profile.image} \n                      inspired={profile.total_matches} matched={profile.ind_matches} \n                      groups={groups} />\n                      </Nav.Link>\n                    </LinkContainer>\n\n                    <GroupsCard header=\"Your Groups\" name={props.name} src={props.src} inspired={props.inspired} matched={props.matched} groups={groups}/>\n\n                </Grid.Column>\n\n\n\n                  <Grid.Column centered width={6}>\n\n                    <NewPost name = {user.first_name + \" \" + user.last_name} profile = {profile} match_state = {match_state} state={ state } handlePostChange={handlePostChange} handleMatchPostChange={handleMatchPostChange} />\n\n                  {/* <FormControlLabel \n                    control={\n                      <Switch\n                      checked = {explore}\n                      onChange = {handleToggle}\n                      name=\"toggle\"\n                      color=\"Primary\"\n                    />\n                    }\n                    label=\"See All\"\n                  /> */}\n\n\n                  \n                {/* <Container style={styles.filter}>\n                  <Button toggle active={explore} onClick = {handleToggle}>\n                      Filtering\n                    </Button>\n                </Container> */}\n\n                    <Posts posts={explore ? posts : explorePosts} />\n\n                    {/* <FeedCard description={description} likes={8}/> */}\n\n\n\n                  </Grid.Column>\n\n\n                  <Grid.Column width={3}>\n\n                    <SuggestedGroups groups={suggestions}/>\n\n\n\n                  </Grid.Column>\n\n              </Grid.Row>\n\n          </Grid>\n\n      </div>\n\n    );\n}\n\nexport default Home;\n\n\nconst styles = {\n  filter: {\n    margin: \"10px\",\n    height: \"auto\",\n    top: \"auto\",\n    left: 'auto',\n    bottom: 'auto', \n    right: 'auto',\n  },\n}\n\n// .modal {\n//   height: auto;\n//   top: auto;\n//   left: auto; \n//   bottom: auto; \n//   right: auto;\n// }"]},"metadata":{},"sourceType":"module"}