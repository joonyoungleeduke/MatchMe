{"ast":null,"code":"var _jsxFileName = \"/Users/joonyounglee/MITHACK/MITHack2020/client/src/Components/LandingNav.js\";\nimport React, { Component, useState } from 'react';\nimport { Navbar, Button, Nav } from 'react-bootstrap';\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Icon, Search } from 'semantic-ui-react';\nimport { BiPaperPlane } from \"react-icons/bi\";\nimport { FaUserAlt } from \"react-icons/fa\";\nimport { TiHome } from \"react-icons/ti\";\nimport { FaHandsHelping } from \"react-icons/fa\";\nimport axiosInstance from \"../User/axiosApi\";\nimport SearchResults from \"../APIComponents/SearchResults\";\nimport _ from \"lodash\";\nimport DropDown from \"./DropDown\";\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AllGroups from \"../APIComponents/AllGroups\";\nconst initialState = {\n  loading: false,\n  results: [],\n  value: ''\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto'\n    }\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    color: 'white'\n  },\n  inputRoot: {\n    color: 'white'\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch'\n      }\n    }\n  }\n}));\n\nfunction searchReducer(state, action) {\n  switch (action.type) {\n    case \"CLEAN_QUERY\":\n      return initialState;\n\n    case \"START_SEARCH\":\n      return { ...state,\n        loading: true,\n        value: action.query\n      };\n\n    case \"FINISH_SEARCH\":\n      return { ...state,\n        loading: false,\n        results: action.results\n      };\n\n    case \"UPDATE_SELECTION\":\n      return { ...state,\n        value: action.selection\n      };\n\n    default:\n      throw new Error();\n  }\n}\n\nlet source = getSearchResults();\n\nasync function getSearchResults() {\n  let results = await SearchResults();\n  source = results;\n}\n\nconst LandingNav = props => {\n  const classes = useStyles(); // const [source, setSource] = React.useState([]);\n\n  const [state, setState] = React.useReducer(searchReducer, initialState);\n  const {\n    loading,\n    results,\n    value\n  } = state; // async function getSearchResults() {\n  //   let results = await SearchResults(); \n  //   return results; \n  //  }\n\n  async function handleLogout() {\n    try {\n      const response = await axiosInstance.post('logout/', {\n        \"refresh_token\": localStorage.getItem(\"refresh_token\")\n      });\n      localStorage.removeItem(\"access_token\");\n      localStorage.removeItem(\"refresh_token\");\n      axiosInstance.defaults.headers['Authorization'] = null;\n      return response;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  const timeoutRef = React.useRef();\n  const handleSearchChange = React.useCallback((e, data) => {\n    clearTimeout(timeoutRef.current);\n    setState({\n      type: 'START_SEARCH',\n      query: data.value\n    });\n    timeoutRef.current = setTimeout(() => {\n      if (data.value.length === 0) {\n        setState({\n          type: 'CLEAN_QUERY'\n        });\n        return;\n      }\n\n      const re = new RegExp(_.escapeRegExp(data.value), 'i');\n\n      const isMatch = result => re.test(result.title);\n\n      console.log(source);\n      setState({\n        type: 'FINISH_SEARCH',\n        results: _.filter(source, isMatch)\n      });\n    }, 300);\n  }, []);\n\n  async function getGroups() {\n    let results = await AllGroups();\n    return results;\n  }\n\n  const [all_groups, setAllGroups] = useState([]);\n\n  async function parseOptions(groups) {\n    let arr = Array();\n\n    for (let idx in groups) {\n      arr.push({\n        key: groups[idx].name,\n        text: groups[idx].name,\n        value: groups[idx].name,\n        image: {\n          avatar: true,\n          src: groups[idx].image\n        }\n      });\n    }\n\n    setAllGroups(arr);\n  }\n\n  React.useEffect(() => {\n    // let result = getSearchResults(); \n    // result.then((result) => {\n    //   setSource(result);\n    //   console.log(result);\n    // })\n    let data = getGroups();\n    data.then(data => {\n      parseOptions(data);\n    }); // return () => {\n    //   clearTimeout(timeoutRef.current)\n    // }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    bg: \"primary\",\n    variant: \"dark\",\n    fixed: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mx-auto\",\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      paddingTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FaHandsHelping, {\n    size: 30,\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(LinkContainer, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Nav.Link, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n    href: \"#home\",\n    style: {\n      fontSize: 23\n    },\n    className: \"pr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, \"MatchMe\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: 120\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 5\n    }\n  }));\n};\n\n{\n  /* <button onClick={this.handleLogout}>Logout</button> */\n}\nexport default LandingNav;","map":{"version":3,"sources":["/Users/joonyounglee/MITHACK/MITHack2020/client/src/Components/LandingNav.js"],"names":["React","Component","useState","Navbar","Button","Nav","LinkContainer","Icon","Search","BiPaperPlane","FaUserAlt","TiHome","FaHandsHelping","axiosInstance","SearchResults","_","DropDown","InputBase","SearchIcon","fade","makeStyles","AllGroups","initialState","loading","results","value","useStyles","theme","root","flexGrow","search","position","borderRadius","shape","backgroundColor","palette","common","white","marginLeft","width","breakpoints","up","spacing","searchIcon","padding","height","pointerEvents","display","alignItems","justifyContent","color","inputRoot","inputInput","paddingLeft","transition","transitions","create","searchReducer","state","action","type","query","selection","Error","source","getSearchResults","LandingNav","props","classes","setState","useReducer","handleLogout","response","post","localStorage","getItem","removeItem","defaults","headers","e","console","log","timeoutRef","useRef","handleSearchChange","useCallback","data","clearTimeout","current","setTimeout","length","re","RegExp","escapeRegExp","isMatch","result","test","title","filter","getGroups","all_groups","setAllGroups","parseOptions","groups","arr","Array","idx","push","key","name","text","image","avatar","src","useEffect","then","paddingTop","fontSize"],"mappings":"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","sourcesContent":["import React, {Component, useState} from 'react'\nimport {Navbar, Button, Nav,} from 'react-bootstrap';\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Icon, Search} from 'semantic-ui-react'\nimport {BiPaperPlane} from \"react-icons/bi\"\nimport {FaUserAlt} from \"react-icons/fa\"\nimport {TiHome} from \"react-icons/ti\"\nimport {FaHandsHelping} from \"react-icons/fa\"\nimport axiosInstance from \"../User/axiosApi\";\nimport SearchResults from \"../APIComponents/SearchResults\";\nimport _ from \"lodash\";\nimport DropDown from \"./DropDown\";\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search'\nimport { fade, makeStyles } from '@material-ui/core/styles'\nimport AllGroups from \"../APIComponents/AllGroups\";\n\nconst initialState = {\n  loading: false, \n  results: [], \n  value: '',\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    color: 'white'\n  },\n  inputRoot: {\n    color: 'white',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch',\n      },\n    },\n  },\n}));\n\n\n\nfunction searchReducer(state, action) {\n  switch (action.type) {\n    case \"CLEAN_QUERY\":\n      return initialState \n    case \"START_SEARCH\":\n      return { ...state, loading: true, value: action.query}\n    case \"FINISH_SEARCH\":\n      return { ...state, loading: false, results: action.results }\n    case \"UPDATE_SELECTION\":\n      return { ...state, value: action.selection }\n    \n    default: \n      throw new Error() \n  }\n}\n\nlet source = getSearchResults(); \n\nasync function getSearchResults() {\n  let results = await SearchResults();\n  source = results; \n}\n\n\n\n\n\n\nconst LandingNav = (props) => {\n  const classes = useStyles();\n  // const [source, setSource] = React.useState([]);\n  const [state, setState] = React.useReducer(searchReducer, initialState)\n  const { loading, results, value } = state \n\n  // async function getSearchResults() {\n\n  //   let results = await SearchResults(); \n\n  //   return results; \n  //  }\n\n  async function handleLogout() {\n    try {\n      const response = await axiosInstance.post('logout/', {\n        \"refresh_token\": localStorage.getItem(\"refresh_token\")\n      });\n      localStorage.removeItem(\"access_token\");\n      localStorage.removeItem(\"refresh_token\");\n      axiosInstance.defaults.headers['Authorization'] = null; \n      return response; \n    }\n    catch (e) {\n      console.log(e);\n    }\n  }\n\n  const timeoutRef = React.useRef()\n  const handleSearchChange = React.useCallback((e, data) => {\n    clearTimeout(timeoutRef.current)\n    setState({ type: 'START_SEARCH', query: data.value })\n\n    timeoutRef.current = setTimeout(() => {\n      if (data.value.length === 0) {\n        setState({ type: 'CLEAN_QUERY' })\n        return\n      }\n\n      const re = new RegExp(_.escapeRegExp(data.value), 'i')\n      const isMatch = (result) => re.test(result.title)\n\n      console.log(source);\n\n      setState({\n        type: 'FINISH_SEARCH',\n        results: _.filter(source, isMatch)\n      })\n\n    }, 300)\n  }, [])\n\n  async function getGroups() {\n    let results = await AllGroups(); \n    return results; \n  }\n\n  const [all_groups, setAllGroups] = useState([]);\n\n  async function parseOptions(groups) {\n    let arr = Array();\n    for (let idx in groups) {\n      arr.push({\n        key: groups[idx].name,\n        text: groups[idx].name,\n        value: groups[idx].name,\n        image: {avatar:true, src: groups[idx].image},\n      })\n    }\n    setAllGroups(arr);\n  }\n\n\n  React.useEffect(() => {\n    // let result = getSearchResults(); \n    // result.then((result) => {\n    //   setSource(result);\n    //   console.log(result);\n    // })\n    let data = getGroups();\n    data.then((data) => {\n      parseOptions(data)\n    })\n    // return () => {\n    //   clearTimeout(timeoutRef.current)\n    // }\n\n  }, []);\n\n  return (\n    <div>\n    <Navbar bg=\"primary\" variant=\"dark\" fixed=\"top\"\n    >\n \n    <div class=\"mx-auto\" style={{display: \"flex\", justifyContent:\"center\", paddingTop: 10}}>\n        <div style={{paddingTop: 10}}>\n            <FaHandsHelping size={30} color=\"white\"/>\n        </div>\n        <LinkContainer to=\"/\">\n            <Nav.Link >\n                <Navbar.Brand href=\"#home\" style={{fontSize: 23}}className=\"pr-2\">MatchMe</Navbar.Brand>\n            </Nav.Link >\n        </LinkContainer>\n    </div>\n\n    </Navbar>\n    <div style={{paddingTop: 120}}></div>\n  </div>\n  )\n\n}\n\n\n{/* <button onClick={this.handleLogout}>Logout</button> */}\n\nexport default LandingNav;"]},"metadata":{},"sourceType":"module"}