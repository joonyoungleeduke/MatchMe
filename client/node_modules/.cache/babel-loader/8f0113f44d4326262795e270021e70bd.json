{"ast":null,"code":"var _jsxFileName = \"/Users/joonyounglee/MITHACK/MITHack2020/client/src/Pages/GroupPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport NavBar from \"../Components/NavBar\";\nimport { Card, Icon, Grid } from 'semantic-ui-react';\nimport { BsFillLightningFill } from \"react-icons/bs\";\nimport { FaHandsHelping } from \"react-icons/fa\";\nimport GroupInfo from \"../APIComponents/GroupInfo\";\nimport GroupPosts from \"../APIComponents/GroupPosts\";\nimport ParsePosts from \"../APIComponents/ParsePosts\";\nimport ParseGroup from \"../APIComponents/ParseGroup\";\nimport Posts from \"../Components/Posts\";\nimport AddMember from \"../APIComponents/AddMember\";\nimport RemoveMember from \"../APIComponents/RemoveMember\";\nimport UserGroups from \"../APIComponents/UserGroups\";\n\nconst GroupPage = props => {\n  const [group, setGroup] = useState({});\n  const [posts, setPosts] = useState([]);\n  const [joined, setJoined] = useState(false);\n  const group_id = props.groupID;\n  const user_id = localStorage.getItem('user_id');\n  useEffect(() => {\n    getGroup();\n    getPosts();\n    handleMemberStatus();\n  }, {});\n\n  async function getPosts() {\n    let data = await GroupPosts(group_id);\n    data = ParsePosts(data);\n    data.then(data => {\n      setPosts(data);\n    });\n  }\n\n  async function handleMemberStatus() {\n    let status = await checkMemberStatus(group_id);\n    setJoined(status);\n  }\n\n  async function checkMemberStatus(group_id) {\n    let data = await UserGroups(user_id);\n    console.log(data);\n\n    for (let idx in data) {\n      if (data[idx].id === group_id) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  async function getGroup() {\n    let data = await GroupInfo(group_id);\n    data = ParseGroup(data);\n    data.then(data => {\n      setGroup(data);\n    });\n  }\n\n  async function handleAddMember() {\n    let response = await AddMember(group_id, user_id);\n    console.log(response.status);\n\n    if (response.status === 201) {\n      setJoined(true);\n    }\n  }\n\n  async function handleRemoveMember() {\n    let response = await RemoveMember(group_id, user_id);\n    console.log(response.status);\n\n    if (response.status === 201) {\n      setJoined(false);\n    }\n  }\n\n  const handleButton = () => {\n    if (joined) {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        class: \"ui disabled button\",\n        style: {\n          marginLeft: 50\n        },\n        onClick: handleRemoveMember,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"user icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }), \"Joined\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        class: \"ui active button\",\n        style: {\n          marginLeft: 50\n        },\n        onClick: handleAddMember,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"user icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }\n      }), \"Join\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      width: \"65%\",\n      marginRight: \"auto\",\n      marginLeft: \"auto\",\n      marginBottom: 40,\n      paddingTop: 30,\n      paddingBottom: 30,\n      paddingLeft: 40,\n      paddingRight: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 40,\n      marginTop: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: group.image,\n    style: {\n      width: 120,\n      paddingRight: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }), group.name), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      fontSize: 19,\n      top: 60,\n      right: 45,\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginRight: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(BsFillLightningFill, {\n    size: 20,\n    style: {\n      top: -10,\n      marginRight: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }), \"Actions: \", group.actions), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FaHandsHelping, {\n    size: 20,\n    style: {\n      top: -10,\n      marginRight: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }), \"Matches: \", group.matches)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 20,\n      flex: 1,\n      flexDirection: \"row\",\n      marginLeft: \"auto\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, group.total_users, \" Members\", handleButton(), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"ui primary button invite\",\n    style: {\n      marginLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"plus icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }), \"Invite\"))), /*#__PURE__*/React.createElement(Grid, {\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 7,\n    style: {\n      marginRight: 32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Posts, {\n    posts: posts,\n    img: props.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginRight: \"auto\",\n      zIndex: -5,\n      marginLeft: \"auto\",\n      marginBottom: 30,\n      marginTop: 30,\n      paddingTop: 10,\n      paddingBottom: 10,\n      paddingLeft: 15,\n      paddingRight: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      zIndex: -2,\n      backgroundColor: \"#2185d0\",\n      top: 0,\n      width: \"100%\",\n      height: 50,\n      right: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 25,\n      marginBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, \"About Us\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, group.description, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: 150\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginRight: \"auto\",\n      zIndex: -5,\n      marginLeft: \"auto\",\n      marginBottom: 10,\n      paddingTop: 10,\n      paddingBottom: 10,\n      paddingLeft: 15,\n      paddingRight: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      zIndex: -2,\n      backgroundColor: \"#2185d0\",\n      top: 0,\n      width: \"100%\",\n      height: 50,\n      right: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 25,\n      marginBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, \"Community Goals\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, \"GOALS GO HERE\", /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: 250\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }))))));\n};\n\nexport default GroupPage; // class ActionGroup(models.Model):\n//     owner = models.ForeignKey(User, related_name='group_creator', on_delete=models.CASCADE)\n//     name = models.CharField(max_length=50)\n//     description = models.TextField()\n//     closed = models.BooleanField(default=False)\n//     members = models.ManyToManyField(User, related_name='group_users')\n//     mods = models.ManyToManyField(User, related_name='group_mods')\n//     admins = models.ManyToManyField(User, related_name='admin_mods')\n//     created = models.DateTimeField(auto_now_add=True)\n//     theme = models.CharField(max_length=100)\n//     image = models.ImageField(upload_to='group_pictures', default='default_group.jpg')\n//     def total_members(self):\n//         return self.members.count() \n//     def is_admin(self, user):\n//         return user in self.admins or user == creator \n//     def is_mod(self, user):\n//         return user in self.mods\n//     return (\n//         <div>\n//             {posts.map(post => {\n//                 <div>\n//                     {post.author.first_name}\n//                     {post.author.last_name}\n//                     {post.profile.image}\n//                     {post.profile.bio}\n//                     {post.profile.ind_matches}\n//                     {post.profile.total_matches}\n//                 </div>   \n//             })}\n//             <div>\n//                 {group.name}\n//                 {group.description}\n//                 {group.image}\n//                 {group.theme}\n//             </div>    \n//         </div>\n//     )\n// }\n// export default IndGroup;","map":{"version":3,"sources":["/Users/joonyounglee/MITHACK/MITHack2020/client/src/Pages/GroupPage.js"],"names":["React","useState","useEffect","NavBar","Card","Icon","Grid","BsFillLightningFill","FaHandsHelping","GroupInfo","GroupPosts","ParsePosts","ParseGroup","Posts","AddMember","RemoveMember","UserGroups","GroupPage","props","group","setGroup","posts","setPosts","joined","setJoined","group_id","groupID","user_id","localStorage","getItem","getGroup","getPosts","handleMemberStatus","data","then","status","checkMemberStatus","console","log","idx","id","handleAddMember","response","handleRemoveMember","handleButton","marginLeft","width","marginRight","marginBottom","paddingTop","paddingBottom","paddingLeft","paddingRight","fontSize","marginTop","image","name","position","top","right","display","flexDirection","justifyContent","actions","matches","flex","total_users","zIndex","backgroundColor","height","description"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport NavBar from \"../Components/NavBar\";\nimport { Card, Icon, Grid} from 'semantic-ui-react'\nimport {BsFillLightningFill} from \"react-icons/bs\"\nimport {FaHandsHelping} from \"react-icons/fa\"\nimport GroupInfo from \"../APIComponents/GroupInfo\";\nimport GroupPosts from \"../APIComponents/GroupPosts\";\nimport ParsePosts from \"../APIComponents/ParsePosts\";\nimport ParseGroup from \"../APIComponents/ParseGroup\";\nimport Posts from \"../Components/Posts\";\nimport AddMember from \"../APIComponents/AddMember\";\nimport RemoveMember from \"../APIComponents/RemoveMember\";\nimport UserGroups from \"../APIComponents/UserGroups\";\n\nconst GroupPage = (props) => {\n\n    const [group, setGroup] = useState({});\n    const [posts, setPosts] = useState([]);\n    const [joined, setJoined] = useState(false);\n\n    const group_id = props.groupID;\n    const user_id = localStorage.getItem('user_id');\n\n    useEffect(() => {\n        getGroup();\n        getPosts();\n        handleMemberStatus();\n    }, {});\n\n    async function getPosts() {\n        let data = await GroupPosts(group_id);\n        data = ParsePosts(data);\n\n        data.then(data => {\n            setPosts(data); \n        })\n\n    }\n\n    async function handleMemberStatus() {\n        let status = await checkMemberStatus(group_id);\n        setJoined(status); \n    }\n\n    async function checkMemberStatus(group_id) {\n        let data = await UserGroups(user_id);\n\n        console.log(data);\n\n        for (let idx in data) {\n            if (data[idx].id === group_id) {\n                return true; \n            }\n        }\n\n        return false; \n        \n    }\n    \n    async function getGroup() {\n        let data = await GroupInfo(group_id);\n        data = ParseGroup(data);\n\n        data.then(data => {\n            setGroup(data);\n        })\n    }\n\n    async function handleAddMember() {\n        let response = await AddMember(group_id, user_id);\n        console.log(response.status);\n        if (response.status === 201) {\n            setJoined(true);\n        }\n    }\n\n    async function handleRemoveMember() {\n        let response = await RemoveMember(group_id, user_id);\n        console.log(response.status);\n        if (response.status === 201) {\n            setJoined(false); \n        }\n    }\n\n\n    const handleButton = () => {\n        if (joined) {\n            return (\n                <button \n                    class=\"ui disabled button\" \n                    style={{marginLeft: 50}}\n                    onClick={handleRemoveMember}\n                    >\n                <i class=\"user icon\"></i>\n                Joined\n            </button>\n            );\n        } else {\n            return (\n            <button \n                class=\"ui active button\" \n                style={{marginLeft: 50}}\n                onClick={handleAddMember}\n                >\n                <i class=\"user icon\"></i>\n                Join\n            </button>\n            );\n        }\n    }\n\n    return (\n        <div>\n        <NavBar />\n        \n        <Card style={{width: \"65%\", marginRight: \"auto\", marginLeft: \"auto\", marginBottom: 40, \n        paddingTop: 30, paddingBottom: 30, paddingLeft: 40, paddingRight: 40}}>\n            <div style={{fontSize: 40, marginTop: 5}}>\n            <img src={group.image} style={{width:120, paddingRight: 30}}/>\n            {group.name}\n            </div>\n            <div style={{position: \"absolute\", fontSize: 19, top: 60, right: 45, display: \"flex\", flexDirection: \"row\", justifyContent:\"space-between\"}}>\n                <div style={{marginRight: 30}}>\n                <BsFillLightningFill size={20} style={{top: -10, marginRight: 7}}/>\n                Actions: {group.actions} \n                </div>\n                <div>\n                <FaHandsHelping size={20} style={{top: -10, marginRight: 7}}/>\n                Matches: {group.matches} \n                </div>\n            </div>\n            <div style={{fontSize: 20, flex: 1, flexDirection: \"row\", marginLeft: \"auto\", justifyContent:\"space-between\"}}>\n                {group.total_users} Members\n                {handleButton()}\n                <button class=\"ui primary button invite\" style={{marginLeft: 10}}>\n                    <i class=\"plus icon\"></i>\n                    Invite\n                </button>\n            </div>\n            \n            \n        </Card>\n        <Grid centered>\n            <Grid.Column width={7} style={{marginRight: 32}}>\n\n                <Posts  posts={posts} img={props.image}/>\n\n            </Grid.Column>\n            <Grid.Column width={3}>\n                <Card style={{marginRight: \"auto\", zIndex: -5, marginLeft: \"auto\", marginBottom: 30, marginTop: 30,\n                    paddingTop: 10, paddingBottom: 10, paddingLeft: 15, paddingRight: 15}}>\n                <div style={{position: \"absolute\", zIndex: -2, backgroundColor: \"#2185d0\", top: 0, width: \"100%\", height: 50, right: 0}}></div>\n                <div style={{fontSize: 25, marginBottom: 10}}>\n                    About Us\n                </div>\n                <div>\n                    {group.description}\n                    <div style={{height: 150}}></div>\n                </div>\n                </Card>\n                <Card style={{marginRight: \"auto\", zIndex: -5, marginLeft: \"auto\", marginBottom: 10, \n                    paddingTop: 10, paddingBottom: 10, paddingLeft: 15, paddingRight: 15}}>\n                <div style={{position: \"absolute\", zIndex: -2, backgroundColor: \"#2185d0\", top: 0, width: \"100%\", height: 50, right: 0}}></div>\n                <div style={{fontSize: 25, marginBottom: 10}}>\n                    Community Goals\n                </div>\n                <div>\n                    GOALS GO HERE\n                    <div style={{height: 250}}></div>\n                </div>\n                </Card>\n            </Grid.Column>\n        \n        </Grid>\n        </div>\n\n    );\n}\n\nexport default GroupPage;\n\n\n// class ActionGroup(models.Model):\n//     owner = models.ForeignKey(User, related_name='group_creator', on_delete=models.CASCADE)\n//     name = models.CharField(max_length=50)\n//     description = models.TextField()\n//     closed = models.BooleanField(default=False)\n//     members = models.ManyToManyField(User, related_name='group_users')\n//     mods = models.ManyToManyField(User, related_name='group_mods')\n//     admins = models.ManyToManyField(User, related_name='admin_mods')\n//     created = models.DateTimeField(auto_now_add=True)\n\n//     theme = models.CharField(max_length=100)\n\n//     image = models.ImageField(upload_to='group_pictures', default='default_group.jpg')\n    \n//     def total_members(self):\n//         return self.members.count() \n\n//     def is_admin(self, user):\n//         return user in self.admins or user == creator \n    \n//     def is_mod(self, user):\n//         return user in self.mods\n\n\n\n\n\n//     return (\n//         <div>\n//             {posts.map(post => {\n//                 <div>\n//                     {post.author.first_name}\n//                     {post.author.last_name}\n//                     {post.profile.image}\n//                     {post.profile.bio}\n//                     {post.profile.ind_matches}\n//                     {post.profile.total_matches}\n//                 </div>   \n//             })}\n//             <div>\n//                 {group.name}\n//                 {group.description}\n//                 {group.image}\n//                 {group.theme}\n//             </div>    \n//         </div>\n//     )\n// }\n\n// export default IndGroup; \n"]},"metadata":{},"sourceType":"module"}