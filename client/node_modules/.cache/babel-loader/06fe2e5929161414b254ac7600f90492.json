{"ast":null,"code":"var _jsxFileName = \"/Users/joonyounglee/MITHACK/MITHack2020/client/src/Pages/GroupPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport NavBar from \"../Components/NavBar\";\nimport { Card, Icon, Grid } from 'semantic-ui-react';\nimport { BsFillLightningFill } from \"react-icons/bs\";\nimport { FaHandsHelping } from \"react-icons/fa\";\nimport GroupInfo from \"../APIComponents/GroupInfo\";\nimport GroupPosts from \"../APIComponents/GroupPosts\";\nimport ParsePosts from \"../APIComponents/ParsePosts\";\nimport ParseGroup from \"../APIComponents/ParseGroup\";\nimport Posts from \"../Components/Posts\";\nimport AddMember from \"../APIComponents/AddMember\";\nimport RemoveMember from \"../APIComponents/RemoveMember\";\nimport UserGroups from \"../APIComponents/UserGroups\";\nimport ParseAllPosts from \"../APIComponents/ParseAllPosts\";\nimport SimilarGroups from \"../APIComponents/SimilarGroups\";\nimport SimilarGroupComp from \"../Components/SimilarGroupComp\";\n\nconst GroupPage = props => {\n  const [group, setGroup] = useState({});\n  const [posts, setPosts] = useState([]);\n  const [similarGroups, setSimilarGroups] = useState([]);\n  const [membercount, setMembercount] = useState(1);\n  const [joined, setJoined] = useState(false);\n  const group_id = props.groupID;\n  const user_id = localStorage.getItem('user_id');\n  useEffect(() => {\n    getGroup();\n    getPosts();\n    handleMemberStatus();\n    getSimilarGroups();\n  }, {});\n\n  async function getSimilarGroups() {\n    let groups = await SimilarGroups(group_id);\n    setSimilarGroups(groups);\n  }\n\n  async function getPosts() {\n    let data = await GroupPosts(group_id);\n    await ParseAllPosts(data, setPosts, user_id); // data = ParsePosts(data);\n    // data.then(data => {\n    //     setPosts(data); \n    // })\n  }\n\n  async function handleMemberStatus() {\n    let status = await checkMemberStatus(group_id);\n    setJoined(status);\n  }\n\n  async function checkMemberStatus(group_id) {\n    let data = await UserGroups(user_id);\n    console.log(data);\n\n    for (let idx in data) {\n      if (data[idx].id.toString() === group_id.toString()) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  async function getGroup() {\n    let data = await GroupInfo(group_id);\n    data = ParseGroup(data);\n    data.then(data => {\n      setGroup(data);\n      setMembercount(data.total_users);\n    });\n  }\n\n  async function handleAddMember() {\n    let response = await AddMember(group_id, user_id);\n    console.log(response.status);\n\n    if (response.status === 201) {\n      setJoined(true);\n      setMembercount(membercount + 1);\n    }\n  }\n\n  async function handleRemoveMember() {\n    let response = await RemoveMember(group_id, user_id);\n    console.log(response.status);\n\n    if (response.status === 201) {\n      setJoined(false);\n      setMembercount(membercount - 1);\n    }\n  }\n\n  const handleButton = () => {\n    if (joined) {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        class: \"ui button\",\n        style: {\n          marginLeft: 50\n        },\n        onClick: handleRemoveMember,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"user icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }), \"Joined\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        class: \"ui active button\",\n        style: {\n          marginLeft: 50\n        },\n        onClick: handleAddMember,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"user icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }), \"Join\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }), console.log(posts), /*#__PURE__*/React.createElement(Card, {\n    style: {\n      width: \"65%\",\n      marginRight: \"auto\",\n      marginLeft: \"auto\",\n      marginBottom: 40,\n      paddingTop: 30,\n      paddingBottom: 30,\n      paddingLeft: 40,\n      paddingRight: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 40,\n      marginTop: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: group.image,\n    style: {\n      width: 120,\n      paddingRight: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }), group.name), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      fontSize: 19,\n      top: 60,\n      right: 45,\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginRight: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(BsFillLightningFill, {\n    size: 20,\n    style: {\n      top: -10,\n      marginRight: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }), \"Actions: \", group.actions), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FaHandsHelping, {\n    size: 20,\n    style: {\n      top: -10,\n      marginRight: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }), \"Matches: \", group.matches)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 20,\n      flex: 1,\n      flexDirection: \"row\",\n      marginLeft: \"auto\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, membercount, \" Members\", handleButton(), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"ui primary button invite\",\n    style: {\n      marginLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"plus icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }), \"Invite\"))), /*#__PURE__*/React.createElement(Grid, {\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 7,\n    style: {\n      marginRight: 32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Posts, {\n    posts: posts,\n    img: props.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid.Column, {\n    width: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      zIndex: -5,\n      marginLeft: \"auto\",\n      marginBottom: 30,\n      marginTop: 30,\n      paddingTop: 10,\n      paddingBottom: 10,\n      paddingLeft: 15,\n      paddingRight: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      zIndex: -2,\n      backgroundColor: \"#2185d0\",\n      top: 0,\n      width: \"100%\",\n      height: 50,\n      right: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: 25,\n      marginBottom: 10,\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, \"About Us\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, group.description, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: 50\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(SimilarGroupComp, {\n    groups: similarGroups,\n    style: {\n      fontSize: 25,\n      marginBottom: 10,\n      color: 'white',\n      marginLeft: \"auto\",\n      position: \"absolute\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }))));\n};\n\nexport default GroupPage; // class ActionGroup(models.Model):\n//     owner = models.ForeignKey(User, related_name='group_creator', on_delete=models.CASCADE)\n//     name = models.CharField(max_length=50)\n//     description = models.TextField()\n//     closed = models.BooleanField(default=False)\n//     members = models.ManyToManyField(User, related_name='group_users')\n//     mods = models.ManyToManyField(User, related_name='group_mods')\n//     admins = models.ManyToManyField(User, related_name='admin_mods')\n//     created = models.DateTimeField(auto_now_add=True)\n//     theme = models.CharField(max_length=100)\n//     image = models.ImageField(upload_to='group_pictures', default='default_group.jpg')\n//     def total_members(self):\n//         return self.members.count() \n//     def is_admin(self, user):\n//         return user in self.admins or user == creator \n//     def is_mod(self, user):\n//         return user in self.mods\n//     return (\n//         <div>\n//             {posts.map(post => {\n//                 <div>\n//                     {post.author.first_name}\n//                     {post.author.last_name}\n//                     {post.profile.image}\n//                     {post.profile.bio}\n//                     {post.profile.ind_matches}\n//                     {post.profile.total_matches}\n//                 </div>   \n//             })}\n//             <div>\n//                 {group.name}\n//                 {group.description}\n//                 {group.image}\n//                 {group.theme}\n//             </div>    \n//         </div>\n//     )\n// }\n// export default IndGroup;","map":{"version":3,"sources":["/Users/joonyounglee/MITHACK/MITHack2020/client/src/Pages/GroupPage.js"],"names":["React","useState","useEffect","NavBar","Card","Icon","Grid","BsFillLightningFill","FaHandsHelping","GroupInfo","GroupPosts","ParsePosts","ParseGroup","Posts","AddMember","RemoveMember","UserGroups","ParseAllPosts","SimilarGroups","SimilarGroupComp","GroupPage","props","group","setGroup","posts","setPosts","similarGroups","setSimilarGroups","membercount","setMembercount","joined","setJoined","group_id","groupID","user_id","localStorage","getItem","getGroup","getPosts","handleMemberStatus","getSimilarGroups","groups","data","status","checkMemberStatus","console","log","idx","id","toString","then","total_users","handleAddMember","response","handleRemoveMember","handleButton","marginLeft","width","marginRight","marginBottom","paddingTop","paddingBottom","paddingLeft","paddingRight","fontSize","marginTop","image","name","position","top","right","display","flexDirection","justifyContent","actions","matches","flex","zIndex","backgroundColor","height","color","description"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport NavBar from \"../Components/NavBar\";\nimport { Card, Icon, Grid} from 'semantic-ui-react'\nimport {BsFillLightningFill} from \"react-icons/bs\"\nimport {FaHandsHelping} from \"react-icons/fa\"\nimport GroupInfo from \"../APIComponents/GroupInfo\";\nimport GroupPosts from \"../APIComponents/GroupPosts\";\nimport ParsePosts from \"../APIComponents/ParsePosts\";\nimport ParseGroup from \"../APIComponents/ParseGroup\";\nimport Posts from \"../Components/Posts\";\nimport AddMember from \"../APIComponents/AddMember\";\nimport RemoveMember from \"../APIComponents/RemoveMember\";\nimport UserGroups from \"../APIComponents/UserGroups\";\nimport ParseAllPosts from \"../APIComponents/ParseAllPosts\";\nimport SimilarGroups from \"../APIComponents/SimilarGroups\";\nimport SimilarGroupComp from \"../Components/SimilarGroupComp\";\n\nconst GroupPage = (props) => {\n\n    const [group, setGroup] = useState({});\n    const [posts, setPosts] = useState([]);\n    const [similarGroups, setSimilarGroups] = useState([]);\n    const [membercount, setMembercount] = useState(1); \n    const [joined, setJoined] = useState(false);\n\n    const group_id = props.groupID;\n    const user_id = localStorage.getItem('user_id');\n\n    useEffect(() => {\n        getGroup();\n        getPosts();\n        handleMemberStatus();\n        getSimilarGroups(); \n    }, {});\n\n    async function getSimilarGroups() {\n        let groups = await SimilarGroups(group_id);\n        setSimilarGroups(groups);\n    }\n\n    async function getPosts() {\n        let data = await GroupPosts(group_id);\n        await ParseAllPosts(data, setPosts, user_id);\n        // data = ParsePosts(data);\n\n        // data.then(data => {\n        //     setPosts(data); \n        // })\n\n    }\n\n    async function handleMemberStatus() {\n        let status = await checkMemberStatus(group_id);\n        setJoined(status); \n    }\n\n    async function checkMemberStatus(group_id) {\n        let data = await UserGroups(user_id);\n\n        console.log(data);\n\n        for (let idx in data) {\n            if (data[idx].id.toString() === group_id.toString()) {\n                return true; \n            }\n        }\n\n        return false; \n        \n    }\n    \n    async function getGroup() {\n        let data = await GroupInfo(group_id);\n        data = ParseGroup(data);\n\n        data.then(data => {\n            setGroup(data);\n            setMembercount(data.total_users)\n        })\n    }\n\n    async function handleAddMember() {\n        let response = await AddMember(group_id, user_id);\n        console.log(response.status);\n        if (response.status === 201) {\n            setJoined(true);\n            setMembercount(membercount + 1);\n        }\n    }\n\n    async function handleRemoveMember() {\n        let response = await RemoveMember(group_id, user_id);\n        console.log(response.status);\n        if (response.status === 201) {\n            setJoined(false); \n            setMembercount(membercount - 1);\n        }\n    }\n\n\n    const handleButton = () => {\n        if (joined) {\n            return (\n                <button \n                    class=\"ui button\" \n                    style={{marginLeft: 50}}\n                    onClick={handleRemoveMember}\n                    >\n                <i class=\"user icon\"></i>\n                Joined\n            </button>\n            );\n        } else {\n            return (\n            <button \n                class=\"ui active button\" \n                style={{marginLeft: 50}}\n                onClick={handleAddMember}\n                >\n                <i class=\"user icon\"></i>\n                Join\n            </button>\n            );\n        }\n    }\n\n    return (\n        <div>\n        <NavBar />\n        \n\n        {console.log(posts)}\n\n        <Card style={{width: \"65%\", marginRight: \"auto\", marginLeft: \"auto\", marginBottom: 40, \n        paddingTop: 30, paddingBottom: 30, paddingLeft: 40, paddingRight: 40}}>\n            <div style={{fontSize: 40, marginTop: 5}}>\n            <img src={group.image} style={{width:120, paddingRight: 30}}/>\n            {group.name}\n            </div>\n            <div style={{position: \"absolute\", fontSize: 19, top: 60, right: 45, display: \"flex\", flexDirection: \"row\", justifyContent:\"space-between\"}}>\n                <div style={{marginRight: 30}}>\n                <BsFillLightningFill size={20} style={{top: -10, marginRight: 7}}/>\n                Actions: {group.actions} \n                </div>\n                <div>\n                <FaHandsHelping size={20} style={{top: -10, marginRight: 7}}/>\n                Matches: {group.matches} \n                </div>\n            </div>\n            <div style={{fontSize: 20, flex: 1, flexDirection: \"row\", marginLeft: \"auto\", justifyContent:\"space-between\"}}>\n                {membercount} Members\n                {handleButton()}\n                <button class=\"ui primary button invite\" style={{marginLeft: 10}}>\n                    <i class=\"plus icon\"></i>\n                    Invite\n                </button>\n            </div>\n            \n            \n        </Card>\n        <Grid centered>\n            <Grid.Column width={7} style={{marginRight: 32}}>\n\n                <Posts  posts={posts} img={props.image}/>\n\n            </Grid.Column>\n            <Grid.Column width={3}>\n                <Card style={{zIndex: -5, marginLeft: \"auto\", marginBottom: 30, marginTop: 30,\n                    paddingTop: 10, paddingBottom: 10, paddingLeft: 15, paddingRight: 15}}>\n                <div style={{position: \"absolute\", zIndex: -2, backgroundColor: \"#2185d0\", top: 0, width: \"100%\", height: 50, right: 0}}></div>\n                <div style={{fontSize: 25, marginBottom: 10, color: 'white'}}>\n                    About Us\n                </div>\n                <div>\n                    {group.description}\n                    <div style={{height: 50}}></div>\n                </div>\n                </Card>\n\n\n                <SimilarGroupComp \n                        groups={similarGroups} \n                        style={{fontSize: 25, \n                                marginBottom: 10, \n                                color:'white',\n                                marginLeft: \"auto\",\n                                position: \"absolute\",\n                            }}\n                />\n            </Grid.Column>\n        \n        </Grid>\n        </div>\n\n    );\n}\n\nexport default GroupPage;\n\n\n// class ActionGroup(models.Model):\n//     owner = models.ForeignKey(User, related_name='group_creator', on_delete=models.CASCADE)\n//     name = models.CharField(max_length=50)\n//     description = models.TextField()\n//     closed = models.BooleanField(default=False)\n//     members = models.ManyToManyField(User, related_name='group_users')\n//     mods = models.ManyToManyField(User, related_name='group_mods')\n//     admins = models.ManyToManyField(User, related_name='admin_mods')\n//     created = models.DateTimeField(auto_now_add=True)\n\n//     theme = models.CharField(max_length=100)\n\n//     image = models.ImageField(upload_to='group_pictures', default='default_group.jpg')\n    \n//     def total_members(self):\n//         return self.members.count() \n\n//     def is_admin(self, user):\n//         return user in self.admins or user == creator \n    \n//     def is_mod(self, user):\n//         return user in self.mods\n\n\n\n\n\n//     return (\n//         <div>\n//             {posts.map(post => {\n//                 <div>\n//                     {post.author.first_name}\n//                     {post.author.last_name}\n//                     {post.profile.image}\n//                     {post.profile.bio}\n//                     {post.profile.ind_matches}\n//                     {post.profile.total_matches}\n//                 </div>   \n//             })}\n//             <div>\n//                 {group.name}\n//                 {group.description}\n//                 {group.image}\n//                 {group.theme}\n//             </div>    \n//         </div>\n//     )\n// }\n\n// export default IndGroup; \n"]},"metadata":{},"sourceType":"module"}