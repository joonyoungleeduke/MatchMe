{"ast":null,"code":"var _jsxFileName = \"/Users/joonyounglee/MITHACK/MITHack2020/client/src/Components/NewPost.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport axiosInstance from \"../User/axiosApi\";\nimport { Modal, Card, Form, Image, List } from 'semantic-ui-react';\nimport { Button } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { AiFillPicture, AiFillPropertySafety } from \"react-icons/ai\";\nimport { FiLink } from \"react-icons/fi\";\nimport { BsFillCameraVideoFill } from \"react-icons/bs\";\n\nconst NewPost = props => {\n  let history = useHistory();\n  const [options, setOptions] = useState([]);\n  const [form, setForm] = useState({\n    group: null,\n    content: \"\"\n  });\n  useEffect(() => {\n    parseOptions();\n  }, []);\n\n  async function parseOptions() {\n    var groups = await groupsFetch();\n    var options_arr = new Array();\n\n    for (let idx in groups) {\n      // this code makes no sense! :) but it works...\n      // console.log(group);\n      options_arr.push({\n        text: groups[idx].name,\n        value: groups[idx].id\n      });\n    }\n\n    console.log(options_arr);\n    setOptions(options_arr);\n  }\n\n  ;\n\n  async function groupsFetch() {\n    try {\n      var id = localStorage.getItem(\"user_id\");\n      const response = await axiosInstance.get('api/groups/user/' + id.toString() + \"/\");\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  ;\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    try {\n      const response = await axiosInstance.post('api/posts/create/', {\n        group: form.group,\n        content: form.content\n      });\n\n      if (response.status === 200) {\n        // history.push('/');\n        props.handlePostChange({\n          type: 'CLOSE_MODAL'\n        });\n      }\n\n      console.log(response);\n      return response;\n    } catch (error) {\n      console.log(error.stack);\n    }\n  }\n\n  ;\n\n  function handleChange(event) {\n    const obj = { ...form\n    };\n    obj.content = event.target.value;\n    setForm(obj);\n  }\n\n  const handleSelectChange = (e, {\n    value\n  }) => {\n    const obj = { ...form\n    };\n    obj.group = value;\n    setForm(obj);\n  }; //     <div class=\"ui middle aligned selection list\">\n  //     {props.groups.map(group => (\n  //       <div class=\"item\">\n  //         <img class=\"ui avatar image\" src={group.image}/>\n  //         <div class=\"content\">\n  //     <div class=\"header\">{group.name}</div>\n  //         </div>\n  //       </div>\n  //     ))}\n  //   </div>\n\n\n  {\n    /* <Profile src={require(\"./Images/man.png\")} username=\"Joon Young Treet\" inspired={33} matched={40} groups={groups}/> */\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    selection: true,\n    horizontal: true,\n    verticalAlign: \"middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(List.Item, {\n    onClick: () => props.handlePostChange({\n      type: 'OPEN_MODAL'\n    }),\n    style: {\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    avatar: true,\n    src: require('../Images/new-post.jpg'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(List.Content, {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, \"Talk to the World!\"))), /*#__PURE__*/React.createElement(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    avatar: true,\n    src: require(\"../Images/new-action.png\"),\n    style: {\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(List.Content, {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  }, \"Initiate Action!\")))), /*#__PURE__*/React.createElement(List, {\n    selection: true,\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(List.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    style: {\n      color: \"gray\",\n      marginTop: \"auto\",\n      marginBottom: \"auto\",\n      marginLeft: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FiLink, {\n    size: 30,\n    className: \"attachButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 112\n    }\n  })))), /*#__PURE__*/React.createElement(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(List.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    style: {\n      color: \"gray\",\n      marginTop: \"auto\",\n      marginBottom: \"auto\",\n      marginLeft: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(AiFillPicture, {\n    size: 35,\n    className: \"attachButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 112\n    }\n  })))), /*#__PURE__*/React.createElement(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(List.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    style: {\n      color: \"gray\",\n      marginTop: \"auto\",\n      marginBottom: \"auto\",\n      marginLeft: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(BsFillCameraVideoFill, {\n    size: 30,\n    className: \"attachButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 112\n    }\n  })))))), /*#__PURE__*/React.createElement(Modal, {\n    dimmer: props.state.dimmer,\n    open: props.state.showpost,\n    onClose: () => props.handlePostChange({\n      type: 'CLOSE_MODAL'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"New Post\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: e => handleSubmit(e),\n    id: \"new-post-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Select, {\n    fluid: true,\n    label: \"Group\",\n    name: \"group\",\n    options: options,\n    placeholder: \"Group\" // value = {form.group}\n    ,\n    onChange: handleSelectChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.TextArea, {\n    required: true,\n    name: \"content\",\n    label: \"Content\",\n    placeholder: \"Talk to the World!\",\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: () => props.handlePostChange({\n      type: 'CLOSE_MODAL'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    value: \"submit\",\n    form: \"new-post-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  }, \"Post\"))));\n};\n\nconst styles = {\n  card: {\n    padding: 10,\n    width: \"100%\",\n    display: \"flex\",\n    \"flex-direction\": \"column\",\n    \"align-items\": \"center\"\n  }\n};\nexport default NewPost;","map":{"version":3,"sources":["/Users/joonyounglee/MITHACK/MITHack2020/client/src/Components/NewPost.js"],"names":["React","Component","useState","useEffect","axiosInstance","Modal","Card","Form","Image","List","Button","useHistory","AiFillPicture","AiFillPropertySafety","FiLink","BsFillCameraVideoFill","NewPost","props","history","options","setOptions","form","setForm","group","content","parseOptions","groups","groupsFetch","options_arr","Array","idx","push","text","name","value","id","console","log","localStorage","getItem","response","get","toString","data","error","handleSubmit","event","preventDefault","post","status","handlePostChange","type","stack","handleChange","obj","target","handleSelectChange","e","styles","card","flexDirection","justifyContent","alignItems","require","color","marginTop","marginBottom","marginLeft","state","dimmer","showpost","padding","width","display"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport axiosInstance from \"../User/axiosApi\";\nimport { Modal, Card, Form, Image, List } from 'semantic-ui-react';\nimport { Button } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport {AiFillPicture, AiFillPropertySafety} from \"react-icons/ai\";\nimport {FiLink} from \"react-icons/fi\";\nimport {BsFillCameraVideoFill} from \"react-icons/bs\"\n\nconst NewPost = (props) => {\n\n    let history = useHistory();\n\n    const[options, setOptions] = useState([]);\n    const[form, setForm] = useState({\n        group: null,\n        content: \"\",\n    });\n\n    useEffect(() => {\n        parseOptions()\n    }, []);   \n\n    async function parseOptions() {\n\n        var groups = await groupsFetch();\n\n        var options_arr = new Array();  \n\n        for (let idx in groups) { // this code makes no sense! :) but it works...\n            // console.log(group);\n            options_arr.push({\n                text: groups[idx].name, \n                value: groups[idx].id,\n            });\n        }\n\n        console.log(options_arr);\n\n        setOptions(options_arr);\n    };\n\n    async function groupsFetch() {\n        try {\n            var id = localStorage.getItem(\"user_id\");\n            const response = await axiosInstance.get('api/groups/user/' + id.toString() + \"/\");\n\n            return response.data;\n\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    async function handleSubmit(event) {\n        event.preventDefault();\n        try {\n            const response = await axiosInstance.post('api/posts/create/', {\n                group: form.group,\n                content: form.content,\n            });\n\n            if (response.status === 200) {\n                // history.push('/');\n                props.handlePostChange({type: 'CLOSE_MODAL'})\n            }\n\n            console.log(response);\n\n            return response;\n        } catch (error) {\n            console.log(error.stack);\n        }\n    };\n\n    function handleChange(event) {\n        const obj = {...form};\n        obj.content = event.target.value;\n        setForm(obj);\n    }\n\n    const handleSelectChange = (e, { value }) => {\n        const obj = {...form};\n        obj.group = value; \n        setForm(obj);\n    }\n\n\n//     <div class=\"ui middle aligned selection list\">\n//     {props.groups.map(group => (\n//       <div class=\"item\">\n//         <img class=\"ui avatar image\" src={group.image}/>\n//         <div class=\"content\">\n//     <div class=\"header\">{group.name}</div>\n//         </div>\n//       </div>\n//     ))}\n//   </div>\n\n{/* <Profile src={require(\"./Images/man.png\")} username=\"Joon Young Treet\" inspired={33} matched={40} groups={groups}/> */}\n\n\n\n    return (\n        <div>\n            <Card style={styles.card} >\n                <List selection horizontal verticalAlign='middle'>\n                    <List.Item onClick={() => props.handlePostChange({type: 'OPEN_MODAL' })} style={{flexDirection: \"row\", justifyContent: \"center\", alignItems: \"center\"}}>\n                        <Image avatar src={require('../Images/new-post.jpg')} />\n                        <List.Content style={{}}>\n                                <h5>Talk to the World!</h5>\n                        </List.Content>\n                    </List.Item>\n                    <List.Item>\n                        <Image avatar src={require(\"../Images/new-action.png\")} style={{flexDirection: \"row\", justifyContent: \"center\", alignItems: \"center\"}}/>\n                        <List.Content style={{}}>\n                                <h5>Initiate Action!</h5>\n                        </List.Content>\n                    </List.Item>\n                </List>\n                <List selection horizontal>\n                    <List.Item>\n                        <List.Content>\n                            <a style={{color:\"gray\", marginTop: \"auto\", marginBottom: \"auto\", marginLeft: 30}}><FiLink size={30} className=\"attachButton\"/></a>\n                        </List.Content>\n                    </List.Item>\n                    <List.Item>\n                        <List.Content>\n                            <a style={{color:\"gray\", marginTop: \"auto\", marginBottom: \"auto\", marginLeft: 18}}><AiFillPicture size={35} className=\"attachButton\"/></a>\n                        </List.Content>\n                    </List.Item>\n                    <List.Item>\n                        <List.Content>\n                            <a style={{color:\"gray\", marginTop: \"auto\", marginBottom: \"auto\", marginLeft: 18}}><BsFillCameraVideoFill size={30} className=\"attachButton\"  /></a> \n                        </List.Content>\n                    </List.Item>\n                </List>\n\n                {/* <a style={{color:\"gray\", marginTop: \"auto\", marginBottom: \"auto\", marginLeft: 30}}><FiLink size={30} className=\"attachButton\"/></a>\n                <a style={{color:\"gray\", marginTop: \"auto\", marginBottom: \"auto\", marginLeft: 18}}><AiFillPicture size={35} className=\"attachButton\"/></a>\n                <a style={{color:\"gray\", marginTop: \"auto\", marginBottom: \"auto\", marginLeft: 18}}><BsFillCameraVideoFill size={30} className=\"attachButton\"  /></a> */}\n            </Card>\n\n            <Modal \n                dimmer={props.state.dimmer}\n                open={props.state.showpost}\n                onClose = {() => props.handlePostChange({ type: 'CLOSE_MODAL' })}\n            >\n                <Modal.Header>\n                    New Post\n                </Modal.Header>\n\n                <Modal.Content>\n                    <Form onSubmit={(e) => handleSubmit(e)} id=\"new-post-form\">\n                        <Form.Group widths='equal'>\n                            <Form.Select\n                                fluid \n                                label='Group'\n                                name='group'\n                                options={options}\n                                placeholder='Group'\n                                // value = {form.group}\n                                onChange = {handleSelectChange}\n                            />\n                        </Form.Group>\n                        <Form.TextArea required name='content' label=\"Content\" placeholder=\"Talk to the World!\" onChange = {(e) => handleChange(e)}/>\n                    </Form>\n                </Modal.Content>\n                <Modal.Actions>\n                        <Button variant=\"secondary\" onClick={() => props.handlePostChange({type: 'CLOSE_MODAL' })}>Close</Button>\n                        <Button variant=\"primary\" type=\"submit\" value=\"submit\" form=\"new-post-form\">Post</Button>\n                </Modal.Actions>\n\n            </Modal>\n        </div>\n    );\n}\n\n\nconst styles = {\n    card: {\n        padding: 10,\n        width: \"100%\",\n        display: \"flex\",\n        \"flex-direction\": \"column\",\n        \"align-items\": \"center\",\n    }\n}\n\n\nexport default NewPost;"]},"metadata":{},"sourceType":"module"}